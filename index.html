<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŠ¨è¯å¤§å†’é™© - Cost, Spend, Pay, Take</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: #f0f8ff;
            margin: 0;
            padding: 20px;
            color: #333;
            background-image: url('https://img.freepik.com/free-vector/hand-drawn-school-background_23-2149464866.jpg');
            background-size: cover;
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        h1 {
            color: #ff6b6b;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            background-color: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            font-size: 1.5rem;
            font-weight: 700;
        }
        .verb-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }
        .verb-card {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            width: 220px;
            padding: 15px;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            border: 3px solid #4d96ff;
        }
        .verb-card:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
        .verb-title {
            font-weight: 700;
            font-size: 1.3rem;
            color: #4d96ff;
            margin-bottom: 10px;
            text-align: center;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        .emoji {
            font-size: 2rem;
            display: block;
            text-align: center;
            margin-bottom: 10px;
        }
        .example {
            font-style: italic;
            color: #555;
            margin: 10px 0;
            background-color: #f8f9fa;
            padding: 8px;
            border-radius: 8px;
            border-left: 4px solid #ff6b6b;
            font-size: 1rem;
            line-height: 1.4;
        }
        .description {
            margin-top: 10px;
            line-height: 1.5;
            font-size: 0.95rem;
        }
        .hidden-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }
        .verb-card.active .hidden-content {
            max-height: 500px;
        }
        .quiz-button, .game-button {
            background-color: #ff6b6b;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            font-size: 1.1rem;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }
        .quiz-button:hover, .game-button:hover {
            background-color: #ff4757;
            transform: scale(1.05);
        }
        #quiz-section, #game-section {
            background-color: rgba(255, 250, 205, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            display: none;
            border: 3px dashed #e67e22;
        }
        .quiz-question {
            background-color: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .quiz-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        .quiz-options button {
            background-color: #4d96ff;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            font-weight: 500;
        }
        .quiz-options button:hover {
            background-color: #3a7bd5;
            transform: scale(1.05);
        }
        .quiz-result {
            font-weight: 600;
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-size: 1rem;
        }
        .correct {
            background-color: #d4edda;
            color: #155724;
        }
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
        }
        #game-section {
            text-align: center;
        }
        #game-board {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px auto;
            max-width: 500px;
        }
        .game-card {
            height: 80px;
            background-color: #4d96ff;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            font-weight: 500;
        }
        .game-card:hover {
            transform: scale(1.05);
        }
        .game-card.flipped {
            background-color: #ff6b6b;
        }
        #score-display {
            font-size: 1.2rem;
            font-weight: 700;
            color: #e67e22;
            margin-bottom: 15px;
        }
        #progress-bar {
            width: 100%;
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }
        #progress {
            height: 100%;
            width: 0%;
            background-color: #4CAF50;
            transition: width 0.5s;
        }
        .task-completed {
            animation: celebrate 1s ease infinite;
        }
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f00;
            border-radius: 50%;
            animation: fall 3s linear forwards;
            z-index: 1000;
        }
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }
        
        /* ç§»åŠ¨ç«¯é€‚é… */
        @media (max-width: 768px) {
            body {
                padding: 10px;
                font-size: 1rem;
            }
            .verb-card {
                width: 100%;
                max-width: 300px;
            }
            .verb-title {
                font-size: 1.2rem;
            }
            .example {
                font-size: 0.95rem;
            }
            .description {
                font-size: 0.9rem;
            }
            #game-board {
                grid-template-columns: repeat(2, 1fr);
            }
            .game-card {
                height: 70px;
                font-size: 1rem;
            }
            .quiz-button, .game-button {
                font-size: 1rem;
                padding: 10px 15px;
            }
        }
    </style>
</head>
<body>
    <h1>ğŸš€ åŠ¨è¯å¤§å†’é™© - Cost, Spend, Pay, Take</h1>
    <p style="text-align: center; font-size: 18px; background-color: rgba(255, 255, 255, 0.8); padding: 10px; border-radius: 10px;">
        ç‚¹å‡»å¡ç‰‡å­¦ä¹ ï¼Œç„¶åå®ŒæˆæŒ‘æˆ˜ï¼
    </p>

    <div class="verb-container">
        <!-- Cost Card -->
        <div class="verb-card" onclick="toggleCard(this, event); playSound('click')">
            <div class="emoji">ğŸ’°</div>
            <div class="verb-title">Cost</div>
            <div class="example">"This toy costs $10."</div>
            <div class="hidden-content">
                <div class="description">
                    <strong>ç”¨æ³•ï¼š</strong> "cost" è¡¨ç¤ºæŸç‰©"èŠ±è´¹å¤šå°‘é’±"ï¼Œä¸»è¯­æ˜¯ç‰©å“ã€‚<br><br>
                    <strong>ä¾‹å¥ï¼š</strong>
                    <ul>
                        <li>This phone costs a lot!</li>
                        <li>How much does it cost?</li>
                    </ul>
                    <button onclick="playSound('cost'); event.stopPropagation();" style="background-color: #ffcc00; margin-top: 10px;">ğŸ”Š å¬å‘éŸ³</button>
                </div>
            </div>
        </div>

        <!-- Spend Card -->
        <div class="verb-card" onclick="toggleCard(this, event); playSound('click')">
            <div class="emoji">ğŸ’¸</div>
            <div class="verb-title">Spend</div>
            <div class="example">"I spend $5 on candy."</div>
            <div class="hidden-content">
                <div class="description">
                    <strong>ç”¨æ³•ï¼š</strong> "spend" è¡¨ç¤ºäºº"èŠ±é’±æˆ–æ—¶é—´"ï¼Œä¸»è¯­æ˜¯äººã€‚<br><br>
                    <strong>ä¾‹å¥ï¼š</strong>
                    <ul>
                        <li>She spends too much on clothes.</li>
                        <li>I spend 2 hours doing homework.</li>
                    </ul>
                    <button onclick="playSound('spend'); event.stopPropagation();" style="background-color: #ffcc00; margin-top: 10px;">ğŸ”Š å¬å‘éŸ³</button>
                </div>
            </div>
        </div>

        <!-- Pay Card -->
        <div class="verb-card" onclick="toggleCard(this, event); playSound('click')">
            <div class="emoji">ğŸ’³</div>
            <div class="verb-title">Pay</div>
            <div class="example">"I pay $20 for the book."</div>
            <div class="hidden-content">
                <div class="description">
                    <strong>ç”¨æ³•ï¼š</strong> "pay" è¡¨ç¤º"æ”¯ä»˜"ï¼Œå¯¹è±¡å¯ä»¥æ˜¯é’±æˆ–äººã€‚<br><br>
                    <strong>ä¾‹å¥ï¼š</strong>
                    <ul>
                        <li>Can you pay me back next week?</li>
                        <li>He paid $50 for the shoes.</li>
                    </ul>
                    <button onclick="playSound('pay'); event.stopPropagation();" style="background-color: #ffcc00; margin-top: 10px;">ğŸ”Š å¬å‘éŸ³</button>
                </div>
            </div>
        </div>

        <!-- Take Card -->
        <div class="verb-card" onclick="toggleCard(this, event); playSound('click')">
            <div class="emoji">â³</div>
            <div class="verb-title">Take</div>
            <div class="example">"It takes 1 hour to go there."</div>
            <div class="hidden-content">
                <div class="description">
                    <strong>ç”¨æ³•ï¼š</strong> "take" æŒ‡"èŠ±è´¹æ—¶é—´"ï¼Œä¸»è¯­å¸¸æ˜¯æ´»åŠ¨ã€‚<br><br>
                    <strong>ä¾‹å¥ï¼š</strong>
                    <ul>
                        <li>It takes 5 minutes to walk to school.</li>
                        <li>Learning English takes time.</li>
                    </ul>
                    <button onclick="playSound('take'); event.stopPropagation();" style="background-color: #ffcc00; margin-top: 10px;">ğŸ”Š å¬å‘éŸ³</button>
                </div>
            </div>
        </div>
    </div>

    <div id="progress-bar">
        <div id="progress"></div>
    </div>

    <button class="quiz-button" onclick="startQuiz(); playSound('click')">ğŸ“ æŒ‘æˆ˜å°æµ‹éªŒ</button>
    <button class="game-button" onclick="startGame(); playSound('click')">ğŸ® è®°å¿†é…å¯¹æ¸¸æˆ</button>

    <div id="quiz-section">
        <h3 style="color: #4d96ff; text-align: center;">ğŸ“ åŠ¨è¯å°æµ‹éªŒ</h3>
        <p style="text-align: center;">å®Œæˆ3é“é¢˜è·å¾—é‡‘å¸å¥–åŠ±ï¼</p>
        
        <div class="quiz-question">
            <p>1. This hamburger ____ $5.</p>
            <div class="quiz-options">
                <button onclick="checkAnswer(1, 'cost'); playSound('click')">cost</button>
                <button onclick="checkAnswer(1, 'spend'); playSound('click')">spend</button>
                <button onclick="checkAnswer(1, 'pay'); playSound('click')">pay</button>
                <button onclick="checkAnswer(1, 'take'); playSound('click')">take</button>
            </div>
            <div id="quiz-result1" class="quiz-result"></div>
        </div>

        <div class="quiz-question">
            <p>2. I always ____ one hour reading every night.</p>
            <div class="quiz-options">
                <button onclick="checkAnswer(2, 'cost'); playSound('click')">cost</button>
                <button onclick="checkAnswer(2, 'spend'); playSound('click')">spend</button>
                <button onclick="checkAnswer(2, 'pay'); playSound('click')">pay</button>
                <button onclick="checkAnswer(2, 'take'); playSound('click')">take</button>
            </div>
            <div id="quiz-result2" class="quiz-result"></div>
        </div>

        <div class="quiz-question">
            <p>3. Did you ____ for your lunch yet?</p>
            <div class="quiz-options">
                <button onclick="checkAnswer(3, 'cost'); playSound('click')">cost</button>
                <button onclick="checkAnswer(3, 'spend'); playSound('click')">spend</button>
                <button onclick="checkAnswer(3, 'pay'); playSound('click')">pay</button>
                <button onclick="checkAnswer(3, 'take'); playSound('click')">take</button>
            </div>
            <div id="quiz-result3" class="quiz-result"></div>
        </div>

        <div id="quiz-summary" style="text-align: center; font-size: 18px;"></div>
    </div>

    <div id="game-section">
        <h3 style="color: #4d96ff;">ğŸ® åŠ¨è¯è®°å¿†é…å¯¹æ¸¸æˆ</h3>
        <p>æ‰¾å‡ºæ‰€æœ‰é…å¯¹çš„åŠ¨è¯å’Œä¾‹å¥ï¼</p>
        <div id="score-display">å¾—åˆ†: 0</div>
        <div id="game-board"></div>
        <button onclick="resetGame(); playSound('click')" style="background-color: #4d96ff; color: white; border: none; padding: 10px 15px; border-radius: 20px; cursor: pointer; margin-top: 10px;">é‡æ–°å¼€å§‹</button>
    </div>

    <audio id="click-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"></audio>
    <audio id="correct-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3"></audio>
    <audio id="wrong-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>
    <audio id="win-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
    <audio id="celebration-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-happy-crowd-cheer-964.mp3"></audio>
    <audio id="cost-sound" src="https://ssl.gstatic.com/dictionary/static/sounds/20200429/cost--_gb_1.mp3"></audio>
    <audio id="spend-sound" src="https://ssl.gstatic.com/dictionary/static/sounds/20200429/spend--_gb_1.mp3"></audio>
    <audio id="pay-sound" src="https://ssl.gstatic.com/dictionary/static/sounds/20200429/pay--_gb_1.mp3"></audio>
    <audio id="take-sound" src="https://ssl.gstatic.com/dictionary/static/sounds/20200429/take--_gb_1.mp3"></audio>

    <script>
        // éŸ³æ•ˆæ’­æ”¾
        function playSound(type) {
            const sound = document.getElementById(`${type}-sound`);
            if (sound) {
                sound.currentTime = 0;
                sound.play();
            }
        }

        // ç‚¹å‡»å±•å¼€å¡ç‰‡
        function toggleCard(card, event) {
            // æ£€æŸ¥ç‚¹å‡»æ˜¯å¦æ¥è‡ªå‘éŸ³æŒ‰é’®
            if (event && event.target.tagName === 'BUTTON' && event.target.textContent.includes('ğŸ”Š')) {
                return; // å¦‚æœæ˜¯å‘éŸ³æŒ‰é’®ç‚¹å‡»ï¼Œä¸åˆ‡æ¢å¡ç‰‡çŠ¶æ€
            }
            card.classList.toggle("active");
        }

        // æµ‹éªŒç›¸å…³å˜é‡
        let quizScore = 0;
        let gameScore = 0;
        let progress = 0;
        const totalTasks = 2; // æµ‹éªŒå’Œæ¸¸æˆä¸¤ä¸ªä»»åŠ¡

        // å¼€å§‹æµ‹éªŒ
        function startQuiz() {
            document.getElementById("quiz-section").style.display = "block";
            document.getElementById("game-section").style.display = "none";
            resetQuiz();
        }

        // é‡ç½®æµ‹éªŒ
        function resetQuiz() {
            quizScore = 0;
            document.querySelectorAll(".quiz-result").forEach(el => {
                el.innerHTML = "";
                el.className = "quiz-result";
            });
            document.getElementById("quiz-summary").innerHTML = "";
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(questionNum, chosenAnswer) {
            const correctAnswers = {
                1: "cost",
                2: "spend",
                3: "pay"
            };

            const resultElement = document.getElementById(`quiz-result${questionNum}`);
            if (chosenAnswer === correctAnswers[questionNum]) {
                resultElement.innerHTML = "âœ… ç­”å¯¹äº†ï¼";
                resultElement.className = "quiz-result correct";
                quizScore++;
                playSound('correct');
                
                // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é—®é¢˜éƒ½ç­”å¯¹äº†
                if (quizScore === 3) {
                    document.getElementById("quiz-summary").innerHTML = "ğŸ‰ å¤ªæ£’äº†ï¼ä½ å…¨éƒ¨ç­”å¯¹äº†ï¼è·å¾—50é‡‘å¸ï¼";
                    playSound('win');
                    updateProgress();
                    createConfetti();
                }
            } else {
                let explanation = "";
                switch (correctAnswers[questionNum]) {
                    case "cost":
                        explanation = "âŒ ä¸å¯¹å“¦ï¼'cost' æ˜¯è¯´ä¸œè¥¿å€¼å¤šå°‘é’±ã€‚";
                        break;
                    case "spend":
                        explanation = "âŒ ä¸å¯¹å“¦ï¼'spend' æ˜¯äººèŠ±æ—¶é—´æˆ–é’±ã€‚";
                        break;
                    case "pay":
                        explanation = "âŒ ä¸å¯¹å“¦ï¼'pay' æ˜¯ä»˜æ¬¾çš„æ„æ€ã€‚";
                        break;
                }
                resultElement.innerHTML = `${explanation}`;
                resultElement.className = "quiz-result incorrect";
                playSound('wrong');
            }
        }

        // è®°å¿†æ¸¸æˆç›¸å…³
        const gamePairs = [
            { word: "cost", example: "This costs $10" },
            { word: "spend", example: "I spend time" },
            { word: "pay", example: "Pay for lunch" },
            { word: "take", example: "It takes time" }
        ];
        
        let gameCards = [];
        let flippedCards = [];
        let matchedPairs = 0;

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            document.getElementById("game-section").style.display = "block";
            document.getElementById("quiz-section").style.display = "none";
            resetGame();
        }

        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            gameScore = 0;
            matchedPairs = 0;
            document.getElementById("score-display").textContent = "å¾—åˆ†: 0";
            
            // åˆ›å»ºæ¸¸æˆå¡ç‰‡
            gameCards = [];
            const allPairs = [...gamePairs, ...gamePairs]; // å¤åˆ¶ä¸€ä»½ç”¨äºé…å¯¹
            allPairs.sort(() => Math.random() - 0.5); // éšæœºæ’åº
            
            const gameBoard = document.getElementById("game-board");
            gameBoard.innerHTML = "";
            
            allPairs.forEach((pair, index) => {
                const card = document.createElement("div");
                card.className = "game-card";
                card.dataset.index = index;
                card.dataset.word = pair.word;
                card.dataset.example = pair.example;
                card.addEventListener("click", flipCard);
                gameBoard.appendChild(card);
                gameCards.push({
                    element: card,
                    word: pair.word,
                    example: pair.example,
                    flipped: false,
                    matched: false
                });
            });
        }

        // ç¿»è½¬å¡ç‰‡
        function flipCard() {
            const index = this.dataset.index;
            const card = gameCards[index];
            
            // å¦‚æœå¡ç‰‡å·²ç»ç¿»å¼€æˆ–å·²åŒ¹é…ï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œ
            if (card.flipped || card.matched || flippedCards.length >= 2) {
                return;
            }
            
            // ç¿»å¼€å¡ç‰‡
            card.flipped = true;
            this.textContent = card.word === card.example ? card.word : card.example;
            this.classList.add("flipped");
            flippedCards.push(card);
            playSound('click');
            
            // æ£€æŸ¥æ˜¯å¦åŒ¹é…
            if (flippedCards.length === 2) {
                const card1 = flippedCards[0];
                const card2 = flippedCards[1];
                
                // æ£€æŸ¥æ˜¯å¦åŒ¹é…ï¼ˆå•è¯é…ä¾‹å¥ï¼‰
                if ((card1.word === card2.word && card1.example === card2.example) || 
                    (card1.word === card2.example || card1.example === card2.word)) {
                    // åŒ¹é…æˆåŠŸ
                    setTimeout(() => {
                        card1.matched = true;
                        card2.matched = true;
                        card1.element.style.visibility = "hidden";
                        card2.element.style.visibility = "hidden";
                        flippedCards = [];
                        matchedPairs++;
                        gameScore += 10;
                        document.getElementById("score-display").textContent = `å¾—åˆ†: ${gameScore}`;
                        playSound('correct');
                        
                        // æ£€æŸ¥æ¸¸æˆæ˜¯å¦ç»“æŸ
                        if (matchedPairs === gamePairs.length) {
                            document.getElementById("score-display").textContent += " ğŸ‰ æ­å–œå®Œæˆï¼è·å¾—30é‡‘å¸ï¼";
                            playSound('celebration');
                            updateProgress();
                            createConfetti();
                        }
                    }, 500);
                } else {
                    // ä¸åŒ¹é…
                    setTimeout(() => {
                        card1.flipped = false;
                        card2.flipped = false;
                        card1.element.textContent = "";
                        card2.element.textContent = "";
                        card1.element.classList.remove("flipped");
                        card2.element.classList.remove("flipped");
                        flippedCards = [];
                        playSound('wrong');
                    }, 1000);
                }
            }
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress() {
            progress += 50; // æ¯ä¸ªä»»åŠ¡å®Œæˆå¢åŠ 50%
            if (progress > 100) progress = 100;
            document.getElementById("progress").style.width = `${progress}%`;
            
            if (progress === 100) {
                document.getElementById("progress").classList.add("task-completed");
                setTimeout(() => {
                    alert("ğŸ† æ­å–œä½ å®Œæˆäº†æ‰€æœ‰æŒ‘æˆ˜ï¼ä½ æ˜¯åŠ¨è¯å°ä¸“å®¶ï¼");
                }, 1000);
            }
        }

        // åˆ›å»ºåº†ç¥å½©èŠ±
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement("div");
                confetti.className = "confetti";
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                confetti.style.animationDuration = `${Math.random() * 2 + 1}s`;
                document.body.appendChild(confetti);
                
                // ç§»é™¤å½©èŠ±å…ƒç´ 
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }
    </script>
</body>
</html>
